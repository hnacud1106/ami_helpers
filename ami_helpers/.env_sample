# ===============================
# Spark Application Configuration
# ===============================

# Tên ứng dụng Spark
SPARK_APP_NAME=your_app_name

# URL Spark master (ví dụ: spark://<host>:7077)
SPARK_MASTER=spark://<spark-master-host>:7077

# Dừng SparkContext khi ứng dụng kết thúc
SPARK_STOP_ON_EXIT=true


# ===============================
# Spark Executor & Resource Config
# ===============================

# Bật/tắt dynamic allocation (true/false)
SPARK_CONF__spark.dynamicAllocation.enabled=false

# Số CPU core mỗi executor
SPARK_CONF__spark.executor.cores=4

# RAM mỗi executor
SPARK_CONF__spark.executor.memory=4G


# ===============================
# Spark SQL / Hive Configurations
# ===============================

# Thư mục warehouse (HDFS hoặc local path)
SPARK_CONF__spark.sql.warehouse.dir=hdfs://<namenode-host>:9000/user/hive/warehouse

# Loại catalog: hive / in-memory
SPARK_CONF__spark.sql.catalogImplementation=hive

# Cho phép tạo managed table trong external DB
SPARK_CONF__spark.sql.legacy.allowCreatingManagedTableInExternalDb=true

# Số partition khi shuffle dữ liệu
SPARK_CONF__spark.sql.shuffle.partitions=200

# Ghi đè partition mode: static / dynamic
SPARK_CONF__spark.sql.sources.partitionOverwriteMode=dynamic

# Phân biệt chữ hoa/thường trong SQL
SPARK_CONF__spark.sql.caseSensitive=true

# Bật adaptive query execution
SPARK_CONF__spark.sql.adaptive.enabled=true


# ===============================
# Hive Metastore Configuration
# ===============================

# Địa chỉ Hive Metastore Thrift
SPARK_CONF__hive.metastore.uris=thrift://<hive-metastore-host>:9083

# Cho phép dynamic partition
SPARK_CONF__hive.exec.dynamic.partition=true

# Chế độ dynamic partition (strict / nonstrict)
SPARK_CONF__hive.exec.dynamic.partition.mode=nonstrict
